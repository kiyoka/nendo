

          DESIGN memo of Nendo


Samples in my mind:

1. '.' is a sipecial character in Nendo.
  1) method call syntax of Kernel class (.method syntax can be translated Kernel.method)
    (.read)                   can be translated    Kernel.read
    (.open "file")            can be translated    Kernel.open( "file" )
    (.open "file" "w")        can be translated    Kernel.open( "file", "w" )
    (self.open "file" "w")    can be translated    self.open( "file", "w" )
    (Kernel.open "file")      can be translated    Kernel.open( "file" )
    (Kernel.open "file" "w")  can be translated    Kernel.open( "file", "w" )

  2) method new is not a special.
    (Date.new)                can be translated    Date.new()
    (Date.new.strftime "%X")  can be translated    Date.new.strftime( "%X" )


2. dot-operator macro is flexible
  1) . can join any instance and any method.
    (. str split)                          can be transformed   (str.split)
    (. (. str split) sort)                 can be transformed   (str.split.sort)
    (. (. (. str split) sort) reverse)     can be transformed   (str.split.sort.reverse)
    (. "abc" size)                         can be transformed   (let1 tmp "abc" tmp.size)
    (. (+ "abc" "def") size)               can be transformed   (let1 tmp (+ "abc" "def") tmp.size)
    (. (. 'abc to-s) size)                 can be transformed   (let1 tmp1
                                                                   (let1 tmp2 'abc tmp2.to-s)
                                                                   tmp1.size)

[END]
